<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="blog.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" integrity="sha512-3ZI/IIYwRKmu0CBVfS4UaP7n6s07GY6kSEJV6w7WcZcOG4C8LN5cJ8ta38pky4UzVUHxoFF/OpDkuF+Y3ZNE4A==" crossorigin="anonymous">

    <title>Blog</title>
    
</head>
<body>
    <header>
        <div class="nav">
            <h2>Sab<span>in</span></h2>
            <i class="fa fa-navicon" id="menu"></i>
            <div class="links" id="links">
                <a href="index.html">Home</a>
                <a href="about-me.html">About Me</a>
                <a href="skills.html">Skills</a>
                <a href="portofolio.html">Portfolio</a>
                <a href="blog.html">Blogs</a>
                <a href="contact.html">Contact me</a>
                <a href="login.html">Login</a>
            </div>
        </div>
    </header>
    <main>
        <div class="blog-heading">
           <h2>My <span>Blog</span></h2>
           <p>The latest industry news, interviews, technologies, and resources.</p>
         </div>
     
    <div class="slider" id="slider">
        
    </div>
    </main>
    <script>
        // Fetch blog posts from backend API
        async function fetchBlogPosts() {
            try {
                const response = await fetch("https://mybrand-back-end.onrender.com/api/v1/blogs");
                const data = await response.json();
                
                if (data.status === "success") {
                    const blogs = data.message;
                    const slider = document.getElementById('slider');

                    blogs.forEach(blog => {
                        const blogBox = document.createElement('div');
                        blogBox.classList.add('blog-box');

                        const blogImg = document.createElement('div');
                        blogImg.classList.add('blog-img');
                        const img = document.createElement('img');
                        img.src = blog.image;
                        img.alt = 'blog';
                        blogImg.appendChild(img);

                        const blogText = document.createElement('div');
                        blogText.classList.add('blog-text');
                        const blogTitle = document.createElement('a');
                        blogTitle.classList.add('blog-title');
                        blogTitle.href = `singlepb.html?id=${blog._id}`;
                        blogTitle.textContent = blog.title;

                        // You can add more elements like author, date, etc. here

                        blogText.appendChild(blogTitle);

                        blogBox.appendChild(blogImg);
                        blogBox.appendChild(blogText);

                        slider.appendChild(blogBox);
                    });
                } else {
                    console.error("Failed to fetch blog posts:", data.error);
                }
            } catch (error) {
                console.error("Error fetching blog posts:", error.message);
            }
        }

        // Call the fetchBlogPosts function to fetch and render the blog posts
        fetchBlogPosts();
    </script>
    <script src="https://kit.fontawesome.com/488ac4d149.js" crossorigin="anonymous"></script>
    
</body>
</html>
